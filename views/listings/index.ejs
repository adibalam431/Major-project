<% layout("/layouts/boilerplate") %>

  <body>
    <!-- <form method="GET" action="/listings/new">
        <button>Create New Listing</button>
    </form> -->
<style>
  #filters{
    display: flex;
    flex-wrap: wrap;
    align-content:space-evenly ;
    align-items: center;
  }
  .filter{
    text-align: center;
    margin-top: 1rem;
    margin-right: 2rem;
    opacity: 0.75;
  }
  .filter:hover{
    opacity: 1;
    cursor: pointer;
    text-shadow: 0 0.015em #101010,0 -0.015em #101010,0.01em 0 #101010,-0.01em 0 #101010;
  }
 
  .tax-info{
display: none;
font-weight: 300;
  }

  .tax-toggle{
    border: 1px solid black;
    padding: 0.6rem;
    border-radius: 7px ;
    margin-left: 4rem;
  }

 

 
</style>

    <div id="filters">
      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-fire"></i></div>
        <p>Trending</p>
      </div>

      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-tree"></i></div>
        <p>Hills</p>
      </div>

      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-bicycle"></i></div>
        <p>Bicycle</p>
      </div>

      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-mountain-city"></i></div>
        <p>Iconic city</p>
      </div>
      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-fire"></i></div>
        <p>Trending</p>
      </div>

      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-tree"></i></div>
        <p>Hills</p>
      </div>

      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-bicycle"></i></div>
        <p>Bicycle</p>
      </div>

      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-mountain-city"></i></div>
        <p>Iconic city</p>
      </div>
      <div class="filter" onclick="window.location.href='/listings/filter'">
        <div><i class="fa-solid fa-mountain-city"></i></div>
        <p>Iconic city</p>
      </div>
      
      <div class="tax-toggle">
        <div class="form-check-reverse form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
          <label class="form-check-label" for="switchCheckDefault">Display total before taxes</label>
        </div>
      </div>
    </div>
     
    


    <div class="main" style="margin:1rem">
      <%for(let lis of allListings){%>

        <div class="card car" style="width: 100%; object-fit: contain">
          <a href="/listings/<%=lis._id%>">
            <img src="<%=lis.image.url%>" class="card-img-top">
            <div class="card-body">
              <p class="card-text"><b><i>
                    <%=lis.title%>
                  </i></b><br>
                  &#8377; <%=lis.price.toLocaleString("en-IN")%> /night <i class="tax-info">+18%GST</i>
                </p>
            </div>
          </a>

        </div>

        <%}%>
    </div>
    <script>
      let taxSwitch = document.getElementById("switchCheckDefault");
      taxSwitch.addEventListener("click", ()=>{
      let taxInfo = document.getElementsByClassName("tax-info");
      for(info of taxInfo){
      if(info.style.display != "inline"){
          info.style.display="inline";
      }else{
        info.style.display="none";
      }
      }
      })
    </script>
  </body>




















<style>
  body {
    height: 100vh;
    margin: 0;
    background: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  .search-container {
    width: 320px;
    max-width: 90vw;
    display: flex;
    align-items: center;
    border-radius: 50px;
    box-shadow: 0 6px 18px rgba(0,123,255,0.3);
    background-color: #fff;
    padding: 8px 20px;
  }
  input[type="text"] {
    flex-grow: 1;
    border: none;
    font-size: 16px;
    padding: 10px 12px;
    border-radius: 50px;
    outline: none;
    color: #333;
  }
  input[type="text"]::placeholder {
    color: #888;
  }
  button {
    background-color: #007bff;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    padding: 0;
    margin-left: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #0056b3;
  }
  button svg {
    width: 20px;
    height: 20px;
    fill: #fff;
  }
  @media (max-width: 400px) {
    .search-container {
      width: 90vw;
      padding: 8px 16px;
    }
  }
</style>
<div class="search-container" role="search">
  <input type="text" placeholder="Search..." aria-label="Search" />
  <button type="submit" aria-label="Search">
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M21 20l-5.6-5.6a7 7 0 1 0-1.4 1.4L20 21zM10 16a6 6 0 1 1 0-12 6 6 0 0 1 0 12z" />
    </svg>
  </button>
</div>






  